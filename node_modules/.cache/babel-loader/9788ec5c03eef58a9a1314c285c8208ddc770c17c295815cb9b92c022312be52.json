{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\USER\\\\OneDrive\\\\Masa\\xFCst\\xFC\\\\parfum-atolyesi\\\\src\\\\components\\\\AnalizModal.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport Modal from './Modal';\nimport { callGeminiAPI } from '../api/gemini';\nimport { SparklesIcon } from './Icons';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AnalizModal = ({\n  uretim,\n  onClose\n}) => {\n  _s();\n  const [result, setResult] = useState(\"\");\n  const [isLoading, setIsLoading] = useState(true);\n  useEffect(() => {\n    const analyze = async () => {\n      setIsLoading(true);\n      const prompt = `Bir parfümün test sonuçları şunlardır: Kalıcılık ${uretim.test.kalicilik}/5, Yayılım ${uretim.test.silaj}/5, Genel Beğeni ${uretim.test.begeni}/5. Kullanıcı yorumu: '${uretim.test.yorum}'. Bu parfüme dair kısa, etkileyici bir özet ve bir sonraki üretim için 2 adet geliştirme önerisi sun. Cevabını Markdown formatında, başlıklar ve listeler kullanarak hazırla.`;\n      const apiResult = await callGeminiAPI(prompt);\n      setResult(apiResult);\n      setIsLoading(false);\n    };\n    if (uretim.test) {\n      analyze();\n    }\n  }, [uretim]);\n  return /*#__PURE__*/_jsxDEV(Modal, {\n    onClose: onClose,\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-3xl text-amber-900 p-6 pb-4 flex items-center gap-2 flex-shrink-0 font-serif\",\n      children: [/*#__PURE__*/_jsxDEV(SparklesIcon, {\n        className: \"h-6 w-6 text-purple-500\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 26,\n        columnNumber: 17\n      }, this), \"Yapay Zeka Analizi\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"px-6 pb-6 overflow-y-auto\",\n      style: {\n        maxHeight: 'calc(85vh - 130px)'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-stone-600 mb-4 text-sm\",\n        children: [\"\\\"\", uretim.parfumAdi, \"\\\" i\\xE7in\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 18\n      }, this), isLoading ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"min-h-[200px] flex flex-col items-center justify-center text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-8 h-8 border-4 border-purple-200 border-t-purple-600 rounded-full animate-spin\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 33,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"mt-4 text-stone-600\",\n          children: \"Analiz ediliyor...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 34,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 21\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"prose prose-sm prose-stone max-w-none\",\n        dangerouslySetInnerHTML: {\n          __html: result.replace(/\\n/g, '<br />').replace(/##\\s?(.*)/g, '<h3 class=\"font-serif font-bold text-lg mb-2 mt-4\">$1</h3>').replace(/\\*\\*(.*?)\\*\\*/g, '<strong>$1</strong>').replace(/\\* (.*?)(<br \\/>|$)/g, '<li class=\"ml-4\" style=\"list-style-type: disc;\">$1</li>')\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white/50 px-6 py-4 flex justify-end gap-3 rounded-b-2xl border-t border-amber-100 flex-shrink-0\",\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        onClick: onClose,\n        className: \"bg-stone-200 text-stone-700 font-semibold px-4 py-2 rounded-lg hover:bg-stone-300 transition\",\n        children: \"Kapat\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 14\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 24,\n    columnNumber: 9\n  }, this);\n};\n_s(AnalizModal, \"lMXe5HlJ7wRg3wgczQOhwR7N53Q=\");\n_c = AnalizModal;\nexport default AnalizModal;\nvar _c;\n$RefreshReg$(_c, \"AnalizModal\");","map":{"version":3,"names":["React","useState","useEffect","Modal","callGeminiAPI","SparklesIcon","jsxDEV","_jsxDEV","AnalizModal","uretim","onClose","_s","result","setResult","isLoading","setIsLoading","analyze","prompt","test","kalicilik","silaj","begeni","yorum","apiResult","children","className","fileName","_jsxFileName","lineNumber","columnNumber","style","maxHeight","parfumAdi","dangerouslySetInnerHTML","__html","replace","type","onClick","_c","$RefreshReg$"],"sources":["C:/Users/USER/OneDrive/Masaüstü/parfum-atolyesi/src/components/AnalizModal.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport Modal from './Modal';\r\nimport { callGeminiAPI } from '../api/gemini';\r\nimport { SparklesIcon } from './Icons';\r\n\r\nconst AnalizModal = ({uretim, onClose}) => {\r\n    const [result, setResult] = useState(\"\");\r\n    const [isLoading, setIsLoading] = useState(true);\r\n\r\n    useEffect(() => {\r\n        const analyze = async () => {\r\n            setIsLoading(true);\r\n            const prompt = `Bir parfümün test sonuçları şunlardır: Kalıcılık ${uretim.test.kalicilik}/5, Yayılım ${uretim.test.silaj}/5, Genel Beğeni ${uretim.test.begeni}/5. Kullanıcı yorumu: '${uretim.test.yorum}'. Bu parfüme dair kısa, etkileyici bir özet ve bir sonraki üretim için 2 adet geliştirme önerisi sun. Cevabını Markdown formatında, başlıklar ve listeler kullanarak hazırla.`;\r\n            const apiResult = await callGeminiAPI(prompt);\r\n            setResult(apiResult);\r\n            setIsLoading(false);\r\n        };\r\n        if(uretim.test){\r\n            analyze();\r\n        }\r\n    }, [uretim]);\r\n\r\n    return (\r\n        <Modal onClose={onClose}>\r\n            <h2 className=\"text-3xl text-amber-900 p-6 pb-4 flex items-center gap-2 flex-shrink-0 font-serif\">\r\n                <SparklesIcon className=\"h-6 w-6 text-purple-500\"/>\r\n                Yapay Zeka Analizi\r\n            </h2>\r\n            <div className=\"px-6 pb-6 overflow-y-auto\" style={{maxHeight: 'calc(85vh - 130px)'}}>\r\n                 <p className=\"text-stone-600 mb-4 text-sm\">\"{uretim.parfumAdi}\" için</p>\r\n                 {isLoading ? (\r\n                    <div className=\"min-h-[200px] flex flex-col items-center justify-center text-center\">\r\n                        <div className=\"w-8 h-8 border-4 border-purple-200 border-t-purple-600 rounded-full animate-spin\"></div>\r\n                        <p className=\"mt-4 text-stone-600\">Analiz ediliyor...</p>\r\n                    </div>\r\n                 ) : (\r\n                    <div className=\"prose prose-sm prose-stone max-w-none\" dangerouslySetInnerHTML={{ __html: result.replace(/\\n/g, '<br />').replace(/##\\s?(.*)/g, '<h3 class=\"font-serif font-bold text-lg mb-2 mt-4\">$1</h3>').replace(/\\*\\*(.*?)\\*\\*/g, '<strong>$1</strong>').replace(/\\* (.*?)(<br \\/>|$)/g, '<li class=\"ml-4\" style=\"list-style-type: disc;\">$1</li>') }} />\r\n                 )}\r\n            </div>\r\n             <div className=\"bg-white/50 px-6 py-4 flex justify-end gap-3 rounded-b-2xl border-t border-amber-100 flex-shrink-0\">\r\n                <button type=\"button\" onClick={onClose} className=\"bg-stone-200 text-stone-700 font-semibold px-4 py-2 rounded-lg hover:bg-stone-300 transition\">Kapat</button>\r\n            </div>\r\n        </Modal>\r\n    )\r\n};\r\n\r\nexport default AnalizModal;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}